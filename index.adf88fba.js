var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequiread0d;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var o=$parcel$inits[e];delete $parcel$inits[e];var n={id:e,exports:{}};return $parcel$modules[e]=n,o.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i},parcelRequire.register=function(e,o){$parcel$inits[e]=o},$parcel$global.parcelRequiread0d=parcelRequire),parcelRequire.register("guY1z",(function(module,exports){let ok=ko=0,numeroOperazioni=10,numeroMassimoSommeSottrazioni=100,numeroMassimoMoltipliceEDivisioni=3,secondiMaxPerOperazione=10,count,domanda=new bootstrap.Modal(document.getElementById("domanda"),{}),risultato,operatore;const operatori=["+","-","*","/"];let operazione,numero1,numero2,inizioTimer,timeoutInterval,timeoutTimer,domandaModal=new bootstrap.Modal(document.getElementById("domanda"),{backdrop:"static",keyboard:!1});document.getElementById("inizia").addEventListener("click",(e=>{e.preventDefault(),setup()})),document.getElementById("ricomincia").addEventListener("click",(e=>{e.preventDefault(),ricomincia()})),document.getElementById("conferma").addEventListener("click",(e=>{e.preventDefault(),leggiRisposta()})),document.addEventListener("keyup",(e=>{e.key;13===e.keyCode&&(console.log("enter pressed"),document.getElementById("domanda").classList.contains("show")&&document.getElementById("conferma").click())}),!1);const setup=()=>{document.getElementById("inizia").classList.toggle("d-none"),setTimeout((()=>{numeroOperazioni=parseInt(window.prompt("quante operazioni vuoi?",numeroOperazioni))||numeroOperazioni,numeroMassimoSommeSottrazioni=parseInt(window.prompt("per + e - numeri grandi fino a...",numeroMassimoSommeSottrazioni))||numeroMassimoSommeSottrazioni,numeroMassimoMoltipliceEDivisioni=parseInt(window.prompt("per * e / secondo operatore < di...",numeroMassimoMoltipliceEDivisioni))||numeroMassimoMoltipliceEDivisioni,secondiMaxPerOperazione=parseInt(window.prompt("tempo massimo per operazione in secondi?",secondiMaxPerOperazione))||secondiMaxPerOperazione,inizia()}),100)},inizia=()=>{document.getElementById("inizia").classList.add("d-none"),document.getElementById("ricomincia").classList.remove("d-none"),count=numeroOperazioni,faiDomanda()},ricomincia=()=>{ok=ko=0,document.getElementById("inizia").classList.toggle("d-none"),document.getElementById("ricomincia").classList.toggle("d-none"),document.getElementById("operazioni").replaceChildren(""),inizia()},timerRisposta=()=>{fineTimer=moment().add(secondiMaxPerOperazione,"seconds"),timeoutInterval=setInterval((()=>{const e=`tempo rimanente ${moment(fineTimer-moment()).format("mm:ss")}s`;for(const o of document.getElementsByClassName("timer"))o.innerText=e}),100),timeoutTimer=setTimeout((()=>{document.getElementById("conferma").click(),clearInterval(timeoutInterval)}),1e3*secondiMaxPerOperazione)},calcolaRisultato=()=>{operazione=`${numero1}${operatore}${numero2}`,risultato=eval(operazione).toFixed(1)},faiDomanda=()=>{operatore=operatori[Math.floor(Math.random()*operatori.length)];const e=numeroMassimoSommeSottrazioni,o=-1!=["+","-"].indexOf(operatore)?numeroMassimoSommeSottrazioni:numeroMassimoMoltipliceEDivisioni;if(numero1=Math.round(Math.random()*e),numero2=Math.round(Math.random()*o),"/"==operatore&&numero1<numero2&&([numero1,numero2]=[numero2,numero1]),"/"==operatore){calcolaRisultato();risultato%1>0&&(numero2*=numero1%numero2),0==numero2&&(numero2=1)}calcolaRisultato(),document.querySelector("#domanda .content").innerText=operazione,document.querySelector("#risposta").value="",document.querySelector("#domandaLabel").innerText="Domanda "+(numeroOperazioni-count+1),document.getElementById("domanda").classList.contains("show")||domandaModal.show(),document.querySelector("#risposta").focus(),console.log(`${operazione} = ${risultato}`),clearTimeout(timeoutTimer),inizioTimer=moment(),timerRisposta()},leggiRisposta=()=>{const e=document.querySelector("#risposta").value;mostraRisposta(operazione,risultato,e),aggiornaStato(),count--,count>0?setTimeout((()=>faiDomanda()),0):domandaModal.hide(),clearTimeout(timeoutTimer),clearInterval(timeoutInterval)},mostraRisposta=(e,o,n)=>{let i="bg-success";parseFloat(n)==o?ok++:(ko++,i="bg-danger");const t=`\n    <div class="row mb-2">\n      <div class="col-12">${e} = <span class="badge ${i}">${n}</span></div>\n    </div>\n  `;document.getElementById("operazioni").insertAdjacentHTML("beforeend",t)},aggiornaStato=()=>{const e=(ok/numeroOperazioni*100).toFixed();document.getElementById("stato").innerText=`indovinate ${ok} su ${numeroOperazioni}, pari a ${e}%`}})),parcelRequire("guY1z");
//# sourceMappingURL=index.adf88fba.js.map
